{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Y A C I N E\\\\Desktop\\\\Falcon ress\\\\src\\\\Components\\\\ConnectJWT.js\";\nimport React, { Component } from 'react';\nimport axios from \"axios\";\nimport { Redirect } from 'react-router-dom';\nimport \"../App.css\";\nexport default class ConnectJWT extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handleChange = e => {\n      this.setState({\n        [e.target.name]: e.target.value\n      });\n    };\n\n    this.login = () => {\n      const _this$state = this.state,\n            username = _this$state.username,\n            password = _this$state.password;\n      axios.post(\"http://localhost:5000/login\", {\n        username,\n        password\n      }).then(res => {\n        // console.log(res);\n        localStorage.setItem(\"token\", res.data.token);\n        this.setState({\n          toDashboard: true\n        });\n      }).catch(err => alert('user not found'));\n    };\n\n    this.state = {\n      username: \"\",\n      password: \"\",\n      toDashboard: false,\n      show: this.props.show\n    };\n  }\n\n  render() {\n    if (this.state.toDashboard === true) {\n      return React.createElement(Redirect, {\n        to: \"/acceuil\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 44\n        },\n        __self: this\n      });\n    }\n\n    return React.createElement(\"div\", {\n      className: \"home\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"falcontitle\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      className: \"falcon\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52\n      },\n      __self: this\n    }, \"Falcon\"), React.createElement(\"h5\", {\n      className: \"ressources\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53\n      },\n      __self: this\n    }, \"inspection & services\")), React.createElement(\"div\", {\n      className: \"falconlogin\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55\n      },\n      __self: this\n    }, React.createElement(\"form\", {\n      method: \"post\",\n      className: \"login\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56\n      },\n      __self: this\n    }, React.createElement(\"h2\", {\n      className: \"ressources\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57\n      },\n      __self: this\n    }, \"Login\"), React.createElement(\"input\", {\n      className: \"editInput\",\n      name: \"username\",\n      placeholder: \"Username\",\n      onChange: this.handleChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59\n      },\n      __self: this\n    }), React.createElement(\"input\", {\n      className: \"editInput\",\n      type: \"password\",\n      name: \"password\",\n      placeholder: \"Password\",\n      onChange: this.handleChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60\n      },\n      __self: this\n    }), React.createElement(\"button\", {\n      className: \"homeButtonG\",\n      type: \"button\",\n      onClick: this.login,\n      value: \"login\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63\n      },\n      __self: this\n    }, \"Log In\"))));\n  }\n\n}","map":{"version":3,"sources":["C:/Users/Y A C I N E/Desktop/Falcon ress/src/Components/ConnectJWT.js"],"names":["React","Component","axios","Redirect","ConnectJWT","constructor","props","handleChange","e","setState","target","name","value","login","state","username","password","post","then","res","localStorage","setItem","data","token","toDashboard","catch","err","alert","show","render"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\r\nimport axios from \"axios\";\r\nimport {Redirect} from 'react-router-dom'\r\nimport \"../App.css\"\r\n\r\n\r\nexport default class ConnectJWT extends Component {\r\n    constructor(props) {\r\n        super(props)\r\n    \r\n        this.state = {\r\n             username:\"\",\r\n             password:\"\",\r\n             toDashboard: false,\r\n             show:this.props.show\r\n          \r\n        }\r\n    }\r\n   \r\n\r\n    handleChange = e => {\r\n        this.setState({ [e.target.name]: e.target.value });\r\n      };\r\n  login = () => {\r\n        const { username, password } = this.state;\r\n        axios\r\n          .post(\"http://localhost:5000/login\", { username, password })\r\n          .then(res => {\r\n            // console.log(res);\r\n            localStorage.setItem(\"token\", res.data.token);\r\n            this.setState({toDashboard:true,\r\n           })            \r\n          })\r\n          .catch(err => alert('user not found'));\r\n      };\r\n\r\n    \r\n    render() {\r\n      \r\n      \r\n      \r\n        if (this.state.toDashboard === true) {\r\n         \r\n          return <Redirect to='/acceuil' />\r\n        }\r\n        return (\r\n          \r\n          <div className=\"home\">\r\n            \r\n            <div className=\"falcontitle\">\r\n           \r\n                    <h1 className=\"falcon\">Falcon</h1>\r\n                    <h5 className=\"ressources\">inspection & services</h5></div>\r\n                   \r\n                    <div className=\"falconlogin\">\r\n        <form method=\"post\"className=\"login\">\r\n            <h2 className=\"ressources\">Login</h2>\r\n            \r\n            <input className=\"editInput\" name=\"username\" placeholder=\"Username\" onChange={this.handleChange}/>\r\n            <input className=\"editInput\" type=\"password\" name=\"password\" placeholder=\"Password\" onChange={this.handleChange} />\r\n          \r\n          \r\n           <button className=\"homeButtonG\" type=\"button\"onClick={this.login} value=\"login\">Log In</button>\r\n           \r\n           </form></div>\r\n    \r\n               \r\n                    \r\n\r\n                    \r\n</div>\r\n           \r\n        )\r\n          \r\n        }}\r\n"]},"metadata":{},"sourceType":"module"}