{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Y A C I N E\\\\Desktop\\\\Falcon ress\\\\src\\\\Components\\\\Mission.js\";\nimport React from 'react';\nimport { Button, Modal, ModalHeader, ModalBody, ModalFooter } from 'reactstrap';\nimport axios from 'axios';\nimport \"./ordreMission.css\"; // modal class for adding new expert \n\nimport './modal.css';\n\nclass ModalE extends React.Component {\n  // initial state \n  constructor(props) {\n    super(props);\n\n    this.onChange = e => {\n      this.setState({\n        [e.target.name]: e.target.value\n      });\n    };\n\n    this.AddMission = () => {\n      if (this.state.numOrdre === \"\" || this.state.NomPrenom === \"\" || this.state.Qualification === \"\") alert(\"veuillez remplir tout les champs\");else {\n        this.setState({\n          isLoading: true\n        });\n        setTimeout(() => {\n          this.setState(prevState => ({\n            modal: !prevState.modal,\n            isLoading: false\n          }));\n        }, 1200);\n        axios.post(\"/addd\", {\n          // envoyer les données récupérées a la base de données au chemin /addd\n          numOrdre: this.state.numOrdre,\n          NomPrenom: this.state.NomPrenom,\n          Qualification: this.state.Qualification,\n          dateDebut: this.state.dateDebut,\n          dateFin: this.state.dateFin,\n          dureeVisite: this.state.dureeVisite,\n          qualificationExigees: this.state.qualificationExigees,\n          lieuMission: this.state.lieuMission,\n          client: this.state.client,\n          codeclient: this.state.codeclient,\n          etendue: this.state.etendue,\n          materiels: this.state.materiels,\n          lieu: this.state.lieu,\n          mobilisation: this.state.mobilisation,\n          logement: this.state.logement,\n          demobilisation: this.state.demobilisation,\n          isChooseclient: this.state.isChooseclient\n        }).then(res => axios.get(\"/missionsList\") //.then(res => this.props.updateExpertList(res.data))\n        ).catch(err => alert(err));\n      }\n    };\n\n    this.classSelect = e => {\n      var year = new Date().getFullYear();\n      var bb = this.state.Max.length + 1;\n      var options = document.getElementById(\"mySelect\");\n      var id = options[options.selectedIndex].id;\n      var cl = options[options.selectedIndex].id;\n      this.setState({\n        numOrdre: id + \"-\" + year + \"-\" + bb\n      });\n    };\n\n    this.state = {\n      isLoading: false,\n      // variable pour l'animation du button \n      modal: false,\n      numOrdre: \"\",\n      NomPrenom: \"\",\n      Qualification: \"\",\n      dateDebut: \"\",\n      dateFin: \"\",\n      dureeVisite: \"\",\n      qualificationExigees: \"\",\n      lieuMission: \"\",\n      client: \"\",\n      codeclient: \"\",\n      etendue: \"\",\n      materiels: \"\",\n      lieu: \"\",\n      mobilisation: \"\",\n      logement: \"\",\n      demobilisation: \"\",\n      in: 100,\n      Max: [],\n      Min: []\n    };\n    this.toggle = this.toggle.bind(this); // close modal after adding new expert\n  } // toggle get state empty after adding an expert, close modal after add expert \n\n\n  toggle() {\n    // clear state \n    this.setState(prevState => ({\n      modal: !prevState.modal,\n      numOrdre: \"\",\n      NomPrenom: \"\",\n      Qualification: \"\",\n      dateDebut: \"\",\n      dateFin: \"\",\n      dureeVisite: \"\",\n      qualificationExigees: \"\",\n      lieuMission: \"\",\n      client: \"\",\n      codeclient: \"\",\n      etendue: \"\",\n      materiels: \"\",\n      lieu: \"\",\n      mobilisation: \"\",\n      logement: \"\",\n      demobilisation: \"\"\n    }));\n  } // onChange get value from input\n\n\n  componentDidMount() {\n    axios.get('/missionsList').then(res1 => this.setState({\n      Max: res1.data\n    }));\n  }\n\n  getclient() {\n    axios.get('/clients').then(res => this.setState({\n      Min: res.data\n    }));\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      className: \"homeButton\",\n      onClick: () => {\n        this.toggle();\n        this.getclient();\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140\n      },\n      __self: this\n    }, \"Cr\\xE9er Ordre de Mission\"), React.createElement(Modal, {\n      size: \"lg\",\n      isOpen: this.state.modal,\n      toggle: this.toggle,\n      className: this.props.className,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144\n      },\n      __self: this\n    }, React.createElement(ModalHeader, {\n      toggle: this.toggle,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145\n      },\n      __self: this\n    }, React.createElement(\"h2\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145\n      },\n      __self: this\n    }, \"Ordre de Mission\")), React.createElement(ModalBody, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"ordreMission\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      className: \"modalLabel\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151\n      },\n      __self: this\n    }, \"Numero d'ordre\"), React.createElement(\"h1\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151\n      },\n      __self: this\n    }, \" \", this.state.numOrdre), React.createElement(\"h2\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152\n      },\n      __self: this\n    }, \"Inspecteur\"), React.createElement(\"label\", {\n      className: \"modalLabel\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153\n      },\n      __self: this\n    }, \"Nom et Prenom\"), React.createElement(\"input\", {\n      className: \"inputItems\",\n      name: \"NomPrenom\",\n      type: \"text\",\n      onChange: this.onChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      className: \"modalLabel\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 155\n      },\n      __self: this\n    }, \"Qualification\"), React.createElement(\"input\", {\n      className: \"inputItems\",\n      name: \"Qualification\",\n      type: \"text\",\n      onChange: this.onChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156\n      },\n      __self: this\n    }), React.createElement(\"h2\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157\n      },\n      __self: this\n    }, \"D\\xE9tails de la mission\"), React.createElement(\"label\", {\n      className: \"modalLabel\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158\n      },\n      __self: this\n    }, \"Date Debut\"), React.createElement(\"input\", {\n      className: \"inputItems\",\n      name: \"dateDebut\",\n      type: \"date\",\n      onChange: this.onChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      className: \"modalLabel\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160\n      },\n      __self: this\n    }, \"Date Fin\"), React.createElement(\"input\", {\n      className: \"inputItems\",\n      name: \"dateFin\",\n      type: \"date\",\n      onChange: this.onChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      className: \"modalLabel\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162\n      },\n      __self: this\n    }, \"Dur\\xE9e de la visite\"), React.createElement(\"input\", {\n      className: \"inputItems\",\n      name: \"dureeVisite\",\n      type: \"text\",\n      onChange: this.onChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      className: \"modalLabel\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164\n      },\n      __self: this\n    }, \"Qualifications Exig\\xE9es\"), React.createElement(\"input\", {\n      className: \"inputItems\",\n      name: \"qualificationExigees\",\n      type: \"text\",\n      onChange: this.onChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 165\n      },\n      __self: this\n    }), React.createElement(\"h2\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 166\n      },\n      __self: this\n    }, \"D\\xE9tails du Projet\"), React.createElement(\"label\", {\n      className: \"modalLabel\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 167\n      },\n      __self: this\n    }, \"Lieu de la mission\"), React.createElement(\"input\", {\n      className: \"inputItems\",\n      name: \"lieuMission\",\n      type: \"text\",\n      onChange: this.onChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      className: \"modalLabel\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 169\n      },\n      __self: this\n    }, \"Client\"), React.createElement(\"form\", {\n      name: \"form1\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170\n      },\n      __self: this\n    }, React.createElement(\"select\", {\n      id: \"mySelect\",\n      onChange: this.classSelect,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 171\n      },\n      __self: this\n    }, \"  \", React.createElement(\"option\", {\n      hidden: true,\n      selected: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 172\n      },\n      __self: this\n    }, \"Choisir un client \"), this.state.Min.map((x, y) => React.createElement(\"option\", {\n      key: y,\n      id: x.clientCode,\n      value: x.clientName,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 174\n      },\n      __self: this\n    }, x.clientName)))), React.createElement(\"label\", {\n      className: \"modalLabel\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 179\n      },\n      __self: this\n    }, \"Etendue\"), React.createElement(\"input\", {\n      className: \"inputItems\",\n      name: \"etendue\",\n      type: \"text\",\n      onChange: this.onChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 180\n      },\n      __self: this\n    }), React.createElement(\"h2\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 181\n      },\n      __self: this\n    }, \"Logistiques\"), React.createElement(\"label\", {\n      className: \"modalLabel\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 182\n      },\n      __self: this\n    }, \"Materiels recommand\\xE9s\"), React.createElement(\"input\", {\n      className: \"inputItems\",\n      name: \"materiels\",\n      type: \"text\",\n      onChange: this.onChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 183\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      className: \"modalLabel\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 184\n      },\n      __self: this\n    }, \"lieu\"), React.createElement(\"input\", {\n      className: \"inputItems\",\n      name: \"lieu\",\n      type: \"text\",\n      onChange: this.onChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 185\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      className: \"modalLabel\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 186\n      },\n      __self: this\n    }, \"Mobilisation\"), React.createElement(\"input\", {\n      className: \"inputItems\",\n      name: \"mobilisation\",\n      type: \"text\",\n      onChange: this.onChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 187\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      className: \"modalLabel\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 188\n      },\n      __self: this\n    }, \"logement\"), React.createElement(\"input\", {\n      className: \"inputItems\",\n      name: \"logement\",\n      type: \"text\",\n      onChange: this.onChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 189\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      className: \"modalLabel\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 190\n      },\n      __self: this\n    }, \"D\\xE9mobilisation\"), React.createElement(\"input\", {\n      className: \"inputItems\",\n      name: \"demobilisation\",\n      type: \"text\",\n      onChange: this.onChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 191\n      },\n      __self: this\n    }))), React.createElement(ModalFooter, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 202\n      },\n      __self: this\n    }, React.createElement(Button, {\n      disabled: this.state.isLoading,\n      color: \"primary\",\n      onClick: () => {\n        this.AddMission();\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 203\n      },\n      __self: this\n    }, !this.state.isLoading && React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 207\n      },\n      __self: this\n    }, \" Ajouter un Ordre\"), this.state.isLoading && React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 208\n      },\n      __self: this\n    }, React.createElement(\"i\", {\n      class: \"fas fa-circle-notch fa-spin\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 208\n      },\n      __self: this\n    }), \" Ajouter un expert\")), React.createElement(Button, {\n      color: \"secondary\",\n      onClick: this.toggle,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 211\n      },\n      __self: this\n    }, \"Annuler\"))));\n  }\n\n}\n\nexport default ModalE;","map":{"version":3,"sources":["C:/Users/Y A C I N E/Desktop/Falcon ress/src/Components/Mission.js"],"names":["React","Button","Modal","ModalHeader","ModalBody","ModalFooter","axios","ModalE","Component","constructor","props","onChange","e","setState","target","name","value","AddMission","state","numOrdre","NomPrenom","Qualification","alert","isLoading","setTimeout","prevState","modal","post","dateDebut","dateFin","dureeVisite","qualificationExigees","lieuMission","client","codeclient","etendue","materiels","lieu","mobilisation","logement","demobilisation","isChooseclient","then","res","get","catch","err","classSelect","year","Date","getFullYear","bb","Max","length","options","document","getElementById","id","selectedIndex","cl","in","Min","toggle","bind","componentDidMount","res1","data","getclient","render","className","map","x","y","clientCode","clientName"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport { Button, Modal, ModalHeader, ModalBody, ModalFooter } from 'reactstrap';\r\nimport axios from 'axios';\r\nimport \"./ordreMission.css\"\r\n// modal class for adding new expert \r\nimport './modal.css'\r\n\r\n\r\nclass ModalE extends React.Component {\r\n  // initial state \r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      isLoading: false, // variable pour l'animation du button \r\n      modal: false,\r\n      numOrdre: \"\",\r\n        NomPrenom:\"\",\r\n        Qualification:\"\",\r\n        dateDebut:\"\",\r\n        dateFin:\"\",\r\n        dureeVisite:\"\",\r\n        qualificationExigees:\"\",\r\n        lieuMission:\"\",\r\n        client:\"\",\r\n        codeclient:\"\",\r\n        etendue:\"\",\r\n        materiels:\"\",\r\n        lieu:\"\",\r\n        mobilisation:\"\",\r\n        logement:\"\",\r\n        demobilisation:\"\",\r\n        in:100,\r\n        Max:[],\r\n        Min:[],\r\n       \r\n        \r\n\r\n    }\r\n\r\n    this.toggle = this.toggle.bind(this); // close modal after adding new expert\r\n  }\r\n\r\n  // toggle get state empty after adding an expert, close modal after add expert \r\n  toggle() {\r\n    // clear state \r\n    this.setState(prevState => ({\r\n      modal: !prevState.modal,\r\n      numOrdre: \"\",\r\n          NomPrenom:\"\",\r\n          Qualification:\"\",\r\n          dateDebut:\"\",\r\n          dateFin:\"\",\r\n          dureeVisite:\"\",\r\n          qualificationExigees:\"\",\r\n          lieuMission:\"\",\r\n          client:\"\",\r\n          codeclient:\"\",\r\n          etendue:\"\",\r\n          materiels:\"\",\r\n          lieu:\"\",\r\n          mobilisation:\"\",\r\n          logement:\"\",\r\n          demobilisation:\"\",\r\n    }));\r\n  }\r\n  // onChange get value from input\r\n  onChange = (e) => {\r\n    this.setState({\r\n      [e.target.name]: e.target.value,\r\n      \r\n    }); \r\n};\r\n\r\ncomponentDidMount(){\r\n  axios.get('/missionsList').then(res1=> this.setState({\r\n    Max:res1.data\r\n  }))\r\n}\r\ngetclient(){\r\n  axios.get('/clients').then(res=> this.setState({\r\n    Min:res.data\r\n  }))\r\n}\r\n\r\n\r\nAddMission = () =>{\r\n  if (this.state.numOrdre===\"\"||this.state.NomPrenom===\"\"||this.state.Qualification===\"\")\r\n  alert(\"veuillez remplir tout les champs\");\r\n  else{\r\n    this.setState({ isLoading: true})\r\n    setTimeout(() => {\r\n      this.setState(prevState => ({\r\n        modal: !prevState.modal,\r\n        isLoading: false,\r\n      }));\r\n    }, 1200)\r\n\r\n    axios\r\n      .post(\"/addd\",{  // envoyer les données récupérées a la base de données au chemin /addd\r\n        numOrdre: this.state.numOrdre,\r\n            NomPrenom:this.state.NomPrenom,\r\n            Qualification:this.state.Qualification,\r\n            dateDebut:this.state.dateDebut,\r\n            dateFin:this.state.dateFin,\r\n            dureeVisite:this.state.dureeVisite,\r\n            qualificationExigees:this.state.qualificationExigees,\r\n            lieuMission:this.state.lieuMission,\r\n            client:this.state.client,\r\n            codeclient:this.state.codeclient,\r\n            etendue:this.state.etendue,\r\n            materiels:this.state.materiels,\r\n            lieu:this.state.lieu,\r\n            mobilisation:this.state.mobilisation,\r\n            logement:this.state.logement,\r\n            demobilisation:this.state.demobilisation,      \r\n            isChooseclient:this.state.isChooseclient,          \r\n        })\r\n      .then(res => axios.get(\"/missionsList\"), \r\n      \r\n      //.then(res => this.props.updateExpertList(res.data))\r\n      )\r\n      .catch(err => alert(err));\r\n } }\r\n\r\n classSelect = e => {\r\n  var year= new Date().getFullYear();\r\n  var bb=this.state.Max.length+1;\r\n  var options = document.getElementById(\"mySelect\");\r\n  var id= options[options.selectedIndex].id;\r\n  var cl= options[options.selectedIndex].id;\r\n  this.setState({\r\n    numOrdre:id+\"-\"+year+\"-\"+bb\r\n  })\r\n};\r\n\r\n  render() {\r\n   \r\n    return (\r\n      <div>\r\n        <button className=\"homeButton\"  onClick={() => {\r\n    this.toggle();\r\n            this.getclient();\r\n          }}>Créer Ordre de Mission</button>\r\n        <Modal size='lg' isOpen={this.state.modal} toggle={this.toggle} className={this.props.className}>\r\n          <ModalHeader toggle={this.toggle}><h2>Ordre de Mission</h2></ModalHeader>\r\n          <ModalBody>\r\n            \r\n            <div className=\"ordreMission\">\r\n\r\n            \r\n    <label className=\"modalLabel\">Numero d'ordre</label><h1> {this.state.numOrdre}</h1>\r\n            <h2>Inspecteur</h2>\r\n               <label className=\"modalLabel\">Nom et Prenom</label>\r\n               <input className=\"inputItems\"  name=\"NomPrenom\"type=\"text\"   onChange={this.onChange}/>\r\n               <label className=\"modalLabel\">Qualification</label>\r\n               <input className=\"inputItems\" name=\"Qualification\"type=\"text\"   onChange={this.onChange}/>\r\n            <h2>Détails de la mission</h2>\r\n               <label className=\"modalLabel\">Date Debut</label>\r\n               <input className=\"inputItems\" name=\"dateDebut\"type=\"date\"   onChange={this.onChange}/>\r\n               <label className=\"modalLabel\">Date Fin</label>\r\n               <input className=\"inputItems\" name=\"dateFin\"type=\"date\"   onChange={this.onChange}/>\r\n               <label className=\"modalLabel\">Durée de la visite</label>\r\n               <input className=\"inputItems\" name=\"dureeVisite\"type=\"text\"   onChange={this.onChange}/>\r\n               <label className=\"modalLabel\">Qualifications Exigées</label>\r\n               <input className=\"inputItems\" name=\"qualificationExigees\"type=\"text\"   onChange={this.onChange}/>\r\n               <h2>Détails du Projet</h2>\r\n               <label className=\"modalLabel\">Lieu de la mission</label>\r\n               <input className=\"inputItems\" name=\"lieuMission\"type=\"text\"   onChange={this.onChange}/>\r\n               <label className=\"modalLabel\">Client</label>\r\n               <form name=\"form1\">\r\n               <select id=\"mySelect\"onChange={this.classSelect}>{\"  \"}\r\n                       <option hidden selected>Choisir un client </option>\r\n                       {this.state.Min.map((x,y) => \r\n                       <option key={y} id={x.clientCode} value={x.clientName}>{x.clientName}</option>)}\r\n               </select>\r\n                </form>\r\n               \r\n\r\n               <label className=\"modalLabel\">Etendue</label>\r\n               <input className=\"inputItems\" name=\"etendue\"type=\"text\"   onChange={this.onChange}/>\r\n            <h2>Logistiques</h2>\r\n               <label className=\"modalLabel\">Materiels recommandés</label>\r\n               <input className=\"inputItems\" name=\"materiels\"type=\"text\"   onChange={this.onChange}/>\r\n               <label className=\"modalLabel\">lieu</label>\r\n               <input className=\"inputItems\" name=\"lieu\"type=\"text\"   onChange={this.onChange}/>\r\n               <label className=\"modalLabel\">Mobilisation</label>\r\n               <input className=\"inputItems\" name=\"mobilisation\"type=\"text\"   onChange={this.onChange}/>\r\n               <label className=\"modalLabel\">logement</label>\r\n               <input className=\"inputItems\" name=\"logement\"type=\"text\"   onChange={this.onChange}/>\r\n               <label className=\"modalLabel\">Démobilisation</label>\r\n               <input className=\"inputItems\" name=\"demobilisation\"type=\"text\"   onChange={this.onChange}/>\r\n\r\n                \r\n            \r\n            \r\n            \r\n            </div>\r\n            \r\n         \r\n            \r\n          </ModalBody>\r\n          <ModalFooter>\r\n    <Button \r\n          disabled={this.state.isLoading} color=\"primary\" \r\n          onClick={()=> {this.AddMission(); }}\r\n          >\r\n        { !this.state.isLoading &&  <span> Ajouter un Ordre</span>}\r\n        { this.state.isLoading &&  <span><i class=\"fas fa-circle-notch fa-spin\"></i> Ajouter un expert</span>}\r\n    \r\n    </Button>\r\n            <Button color=\"secondary\" onClick={this.toggle}>Annuler</Button>\r\n          </ModalFooter>\r\n        </Modal>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default ModalE;"]},"metadata":{},"sourceType":"module"}